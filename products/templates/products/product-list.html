{% extends 'base.html' %}
{% load query_transform %}
{% load widget_tweaks %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/products/products.css' %}">
{% endblock %}

{% block title %} Teacup Tales | All Books {% endblock %}

{% block metadesc %}
Browse through our curated collection of books at Teacup Tales. Discover fiction, non-fiction, children's books, and moreâ€”something for every reader.
{% endblock %}

{% block content %}

<div class="container-fluid my-5">
    <div class="row row-cols-2">
        <!-- Left Column: Search Form (30%) -->
        <div class="col-md-3 mb-4">
            {% include 'components/search-bar.html' %}
        </div>
        <div class="col-md-9">
            {% include 'components/sort-by.html' %}
            <!-- Product Grid -->
            <div class="row">
                {% for product in products %}
                <div class="col-lg-4 col-md-6 col-sm-8 mb-3">
                    {% include 'components/product-card.html' with
                    product=product %}
                </div>
                {% empty %}
                <p>No products available.</p>
                {% endfor %}
            </div>
            <!-- Include pagination controls -->
            {% include 'includes/pagination.html' %}
        </div>

    {% endblock %}
    
    {% block postloadjs %}
    {{ block.super }}

    <script src="{% static 'js/sort-by.js' %}"></script>

    {% endblock %}